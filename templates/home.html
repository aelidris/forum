<!DOCTYPE html>
<html>
<head>
    <title>Forum Home</title>

    <link rel="stylesheet" href="/static/styles.css">

</head>
<body>
    <h1>FORUM</h1>


    <!-- Navigation based on login status -->
    

        {{ if .LoggedIn }}

        <nav>
           
            <a href="/add-post">Add Post</a>

            <a href="/logout">Logout</a>
        
        </nav>

            <h2> Create a New Post </h2> 

            <form method="POST" action="/make-post">

                <label for="title">Title:</label>
                
                <input type="text" id="title" name="title" required><br><br>

                <label for="content">Content:</label><br>

                <textarea id="content" name="content" rows="4" cols="50" required></textarea><br><br>

                <button type="submit">Create Post</button>

            </form>

        {{ else }}
        <nav>
        
            <a href="/login">Login</a>

            <a href="/register">Register</a>
       
        {{ end }}
    </nav>
    <hr>

    <!-- Display posts -->
    <div class="post">
        <h1>Posts</h1>
        {{ if .Posts }}
            {{ range .Posts }}
                <article>
                    <h3>{{ .Title }}</h3>
                    <p>{{ .Content }}</p>
                    <p><small>Posted by <strong>{{ .Username }}</strong> on {{ .CreatedAt }}</small></p>
                </article>
                <hr>
            {{ end }}
        {{ else }}
            <p>No posts to display. Be the first to <a href="/make-post">add a post</a>!</p>
        {{ end }}
    </div>
</body>
</html>
